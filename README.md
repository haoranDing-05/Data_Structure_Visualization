# 数据结构可视化 DSL 语法指南

本项目内置了一套 **DSL (领域特定语言)**，用于通过脚本指令直接控制数据结构的可视化。你可以直接在软件的“智能控制台”中输入这些指令，或通过 AI 助手自动生成这些指令。

## 📖 基础语法规则

1.  **指令格式**: `指令关键字: 参数1, 参数2, ...`
2.  **分隔符**: 
    * 指令与参数之间使用 **冒号** (`:`)。
    * 参数之间使用 **逗号** (`,`)。
3.  **大小写**: 指令不区分大小写（推荐使用大写，如 `BUILD`, `INSERT`）。
4.  **注释**: 以 `#` 开头的行将被视为注释并忽略。
5.  **空行**: 脚本中的空行将被忽略。

---

## 🛠️ 通用指令

### `BUILD` (构建/重置)
清空当前数据结构，并根据提供的参数批量初始化数据。
* **语法**: `BUILD: val1, val2, ...`
* **示例**: `BUILD: 10, 20, 30, 40`

---

## 📚 各结构特定语法

### 1. 栈 (Stack)
* **BUILD**: 依次入栈。
    * `BUILD: 10, 20, 30` (30 在栈顶)
* **INSERT (入栈)**: 
    * `INSERT: value`
* **DELETE (出栈)**: 
    * `DELETE` (无需参数)

### 2. 队列 (Queue)
* **BUILD**: 依次入队。
    * `BUILD: 10, 20, 30` (10 在队头)
* **ENQUEUE (入队)**: 
    * `ENQUEUE: value`
    * *注意: 队列必须使用 `ENQUEUE`，不能使用 `INSERT`。*
* **DEQUEUE (出队)**: 
    * `DEQUEUE` (出队一次)
    * `DEQUEUE: n` (连续出队 n 次，例如 `DEQUEUE: 2`)

### 3. 顺序表 (SequenceList) & 链表 (LinkedList)
* **BUILD**: 依次插入列表。
* **INSERT (插入)**:
    * **尾插**: `INSERT: value`
    * **指定位置**: `INSERT: value, index`
    * 示例: `INSERT: 99, 0` (在头部插入 99)
* **DELETE (删除)**:
    * **按索引删除**: `DELETE: index`
    * 示例: `DELETE: 2` (删除下标为 2 的元素)

### 4. 二叉搜索树 (BST) & AVL树
此类结构会自动根据数值大小排序或平衡。
* **BUILD**: 依次插入构建树。
    * `BUILD: 50, 30, 70`
* **INSERT (插入)**:
    * `INSERT: value` (支持多参数: `INSERT: 10, 20`)
* **DELETE (删除)**:
    * **按数值删除**: `DELETE: value`
    * 示例: `DELETE: 30` (删除值为 30 的节点)

### 5. 普通二叉树 (BinaryTree)
普通二叉树不排序，需手动指定父节点位置。
> **索引规则**: 根节点索引为 0。对于索引 `i`，左孩子理论索引 `2*i+1`，右孩子 `2*i+2`。

* **BUILD**: 第一个参数为根，后续尝试按层序填充（建议仅用于简单初始化）。
    * `BUILD: 10` (仅创建根节点)
* **INSERT (精确插入)**: 
    * 语法: `INSERT: parent_index, value, direction`
    * **parent_index**: 父节点的索引。
    * **direction**: `L` (左) 或 `R` (右)。
    * 示例: `INSERT: 0, 100, L` (在根的左侧插入 100)
* **DELETE (删除子树)**:
    * **按索引删除**: `DELETE: index` (删除该节点及其所有子节点)

### 6. 哈夫曼树 (HuffmanTree)
需提供键值对及其权重。
* **BUILD**: 
    * 语法: `BUILD: Char:Weight, ...`
    * 示例: `BUILD: A:10, B:20, C:5`

---

## 📝 脚本示例

你可以将以下内容直接粘贴到控制台运行：

### 示例：操作链表
```dsl
# 初始化一个链表
BUILD: 1, 2, 3, 4, 5

# 在头部插入 0
INSERT: 0, 0

# 在索引 3 的位置插入 99
INSERT: 99, 3

# 删除索引 1 的元素
DELETE: 1